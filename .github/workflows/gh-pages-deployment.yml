name: Build and Deploy to GitHub Pages

on:
  push:

jobs:
  lint-test:
    uses: ai-cfia/github-workflows/.github/workflows/workflow-lint-test-node.yml@main
    secrets: inherit

  build-and-deploy:
    needs: lint-test
    uses: ai-cfia/github-workflows/.github/workflows/workflow-gh-pages-deployment.yml@main
    secrets: inherit
    with:
      node-version: "18"
      publish-dir: "./build"
      cache-dependency-path: "."
